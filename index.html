<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CONTAS</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <header class="header">
            <h1><i class="fas fa-receipt"></i> CONTAS</h1>
            <div class="summary">
                <div class="summary-item">
                    <span class="label">Total Contas</span>
                    <span class="value" id="totalBills">R$ 0,00</span>
                </div>
                <div class="summary-item">
                    <span class="label">Saldo Bancário</span>
                    <span class="value" id="bankBalanceDisplay" style="color: #6b7280;">
                        R$ 0,00
                    </span>
                </div>
                <div class="summary-item">
                    <span class="label">Total Geral</span>
                    <span class="value" id="totalGeneral">R$ 0,00</span>
                </div>
                <div class="summary-item">
                    <span class="label">Por Dia Útil</span>
                    <span class="value" id="dailyAmount">R$ 0,00</span>
                </div>
                <div class="summary-item">
                    <span class="label">Dias Úteis</span>
                    <span class="value" id="workingDays">12</span>
                </div>
            </div>
        </header>

        <!-- CONTROLES ULTRA COMPACTOS -->
        <div class="controls">
            <div class="controls-row">
                <!-- FILTRO DE DATAS -->
                <div class="filter-section">
                    <h3><i class="fas fa-filter"></i> Filtro por Período</h3>
                    <div class="filter-controls">
                        <div class="filter-group">
                            <label for="startDate">Data Inicial</label>
                            <input type="date" id="startDate" name="startDate" value="2025-09-17">
                        </div>
                        <div class="filter-group">
                            <label for="endDate">Data Final</label>
                            <input type="date" id="endDate" name="endDate" value="2025-09-30">
                        </div>
                        <div class="filter-buttons">
                            <button type="button" class="btn btn-primary" onclick="applyFilter()">
                                <i class="fas fa-search"></i> Filtrar
                            </button>
                            <button type="button" class="btn btn-secondary" onclick="clearFilter()">
                                <i class="fas fa-times"></i> Limpar
                            </button>
                        </div>
                        <div class="filter-info">
                            <i class="fas fa-info-circle"></i>
                            <span id="filteredCount">30 contas</span>
                        </div>
                    </div>
                </div>

                <!-- SALDO BANCÁRIO -->
                <div class="bank-balance">
                    <h3><i class="fas fa-university"></i> Saldo Bancário</h3>
                    <div class="balance-controls">
                        <input type="number" id="balanceInput" class="balance-input" placeholder="Saldo" step="0.01">
                        <button class="btn btn-primary" onclick="updateBalance()">
                            <i class="fas fa-save"></i> Atualizar
                        </button>
                        <div id="balanceDisplay" class="balance-display balance-zero">
                            R$ 0,00
                        </div>
                    </div>
                </div>

                <!-- IMPORTAR CONTAS -->
                <div class="import-section">
                    <h3><i class="fas fa-upload"></i> Importar Contas</h3>
                    <div class="import-controls">
                        <input type="file" id="fileInput" class="file-input" accept=".txt" onchange="importBills()">
                        <label for="fileInput" class="file-label">
                            <i class="fas fa-upload"></i> Escolher Arquivo
                        </label>
                        <button class="btn btn-info" onclick="downloadTemplate()">
                            <i class="fas fa-download"></i> Template
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- TABELA DE CONTAS -->
        <main class="main">
            <table class="bills-table">
                <thead>
                    <tr>
                        <th>Descrição</th>
                        <th>Parcelas</th>
                        <th>Vencimento</th>
                        <th>Status</th>
                        <th>Valor</th>
                        <th>Ações</th>
                    </tr>
                </thead>
                <tbody id="billsTableBody">
                    <!-- As contas serão carregadas via JavaScript -->
                </tbody>
            </table>
        </main>
    </div>

    <!-- MODAL DE CONFIRMAÇÃO -->
    <div id="modal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal()">&times;</span>
            <h3 id="modalTitle">Importar Contas</h3>
            <p id="modalMessage">Deseja importar as contas do arquivo selecionado?</p>
            <div style="margin-top: 20px;">
                <button class="btn btn-success" onclick="confirmImport()">
                    <i class="fas fa-check"></i> Confirmar
                </button>
                <button class="btn btn-secondary" onclick="closeModal()">
                    <i class="fas fa-times"></i> Cancelar
                </button>
            </div>
        </div>
    </div>

    <script src="app.js"></script>
</body>
</html>
